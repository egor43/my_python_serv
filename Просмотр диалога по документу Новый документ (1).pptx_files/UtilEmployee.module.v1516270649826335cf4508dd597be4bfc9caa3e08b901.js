define("js!SBIS3.Employee.Util",["js!SBIS3.PersonCore.Data.FormatEnums","Core/helpers/getType","Core/helpers/String/escapeHtml"],function(e,t,r){return{coalesceFunc:function(e,t){return e?e:t},initNullValue:function(){this.setValue(null)},getValueFromRecord:function(e,t){if(!t||!t.length)return;for(var n=0;n<t.length;n++)if(e.hasColumn(t[n]))return r(e.get(t[n]));return},highlightSearchStr:function(e,t){var r=e;if(t&&r){t=t.toLowerCase();var n=r.toLowerCase().indexOf(t);if(-1!==n)r=e.substring(0,n)+'<span class="ws-browser-highlight">'+e.substring(n,n+t.length)+"</span>"+e.substring(n+t.length)}return r},stringTrim:function(e){if(null===e||void 0===e)return"";return String(e).replace(/^\s+|\s+$/gm,"")},stringIsEmpty:function(e){if(null===e||void 0===e||""===e)return true;return""===this.stringTrim(e)},stringCapitalize:function(e){if(null===e||void 0===e||""===e||"string"!==t(e))return"";return e[0].toUpperCase()+e.slice(1).toLowerCase()},getInitials:function(e,t,r){return this.getPersonFormattedName(e,t,r,"initials")},getPersonFormattedName:function(t,r,n,i){var s=this,o,a,u="";if(a=s.stringTrim(t),!s.stringIsEmpty(a))(o=a.split(/\w?[-]/)).forEach(function(e){if(!s.stringIsEmpty(e)){if(u.length>0)u+="-";u+=s.stringTrim(e)}}),u+=" ";if(a=s.stringTrim(r),!s.stringIsEmpty(a)){if(i===e.nameViewMode.initials)u+=a[0].toUpperCase()+".";else u+=a+" ";if(i!==e.nameViewMode.short)if(a=s.stringTrim(n),!s.stringIsEmpty(a))if(i===e.nameViewMode.initials)u+=a[0].toUpperCase()+".";else u+=a}return s.stringTrim(u)},getDateDaysBetween:function(e,t){if(!e||!t)return;var r=1e3*60*60*24,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s;return s=n.getTime()-i.getTime(),Math.round(s/r)},getDateFromString:function(e){var t=/(\d{2})\.(\d{2})\.(\d{4})/;return Date.fromSQL(e.replace(t,"$3-$2-$1"))},getActivityStatus:function(e,t,r){var n=60*60*24*365*1e3,i=5*60*1e3,s=new Date,o=s.setHours(0,0,0,0),a,u;if(!Boolean(e))return rk("Нет доступа в систему");if(!Boolean(t))return this.convertVerbByGender("Не входил",r)+" в систему";if(a=Boolean(t&&new Date-t<i),a)return"online";if(u=this.convertVerbByGender("Заходил",r),s-t>n)return u+" более 1 года назад";var g=new Date(t);if(o<t)return u+" в "+g.strftime("%H:%M");return u+" "+g.strftime("%d.%m.%y")+" в "+g.strftime("%H:%M")},convertVerbByGender:function(e,t){if("string"===typeof t)t="муж"===t.toLowerCase()?0:1;return 1==t?e+"а":e}}});
//# sourceMappingURL=UtilEmployee.module.js.map