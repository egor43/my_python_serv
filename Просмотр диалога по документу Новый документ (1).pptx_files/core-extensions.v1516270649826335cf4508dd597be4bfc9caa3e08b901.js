define("Core/core-extensions",["Core/constants","Core/Deferred","Core/ParallelDeferred","Core/SessionStorage","Core/Context","Core/IoC","Core/UserConfig","Core/ClientsGlobalConfig","Core/RightsManager","Core/ExtensionsManager","is!browser?WS.Data/ContextField/Flags","is!browser?WS.Data/ContextField/Record","is!browser?WS.Data/ContextField/Enum","is!browser?WS.Data/ContextField/List"],function(e,n,t,r,o,i,a,s,l,g){var f,u=r.get("globalConfigDefined"),C=["sid","ИдентификаторНашейОрганизации","ИдентификаторНашейОрганизацииОпции","IdCOOAcc","IdCOOAccOpts","ФункционалНавигация"],d=o.global.getValue;function c(e){if(!f)f=new t({stopOnFirstError:false,maxRunningCount:1});f.push(e)}function b(){return C.forEach(function(e){if("sid"!==e&&e)o.global.setValue(e,r.get(e))}),true}o.global.getValue=function(e){if(C.indexOf(e)<0&&void 0!==r.get(e))i.resolve("ILogger").error("Global Context",'Попытка получить параметр "'+e+'" из глобального контекста. '+"Используйте $ws.single.ClientsGlobalConfig.getParam или $ws.single.UserConfig.getParam в зависимости от вида параметра.");else return d.apply(o.global,arguments)};function x(){var e=C.filter(function(e){return!r.get(e)});if(e.length)return a.getParams(e)}if(!g.extensionsLoaded())c(g.loadExtensions());if(e.rights){var p=l.getRights();if(p instanceof n)c(p.addCallback(function(e){window.rights=e}))}if(e.globalConfigSupport&&!u)c(function(){var e=new n;return e.dependOn(s.getParams()),r.set("globalConfigDefined",true,true),e});return(f?f.done().getResult():n.success()).addCallback(function(){if(e.userConfigSupport)if(!u)return a.getParams();else return x()}).addBoth(function(){return b()})});
//# sourceMappingURL=core-extensions.js.map